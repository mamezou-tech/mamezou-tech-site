---
title: ペアワイズ法テストケース生成ツール「PictMaster」のエイリアスを使う
author: shuichi-takatsu
date: 2022-08-08
tags: [テスト, pairwise, pict, pictmaster]
---

[前回](/blogs/2022/08/01/pictmaster-constraint-option/)はペアワイズ法テストケース生成ツール「PictMaster」の”制約表”について紹介しました。  
今回はPictMasterの”エイリアス”機能について紹介したいと思います。

[[TOC]]

## テスト水準のいくつかが同一(同値)とみなせる場合

２因子網羅を効率よく生成するペアワイズ法ですが、水準データのいくつかについて全く同一とは言えないがほぼ同一(同値)ということができる場合、それらを”同一の値(同値)”とみなしてテストケースを生成し、全体のテストケース数を削減したい場合があります。  

以前使用したテストケースの例題で考えてみましょう。  
使用した例題は以下のような因子・水準でした。  
・OS (Windows, Linux, macOS)  
・ブラウザ (Firefox, Chrome)  
・Java (バージョン8, バージョン11)  

今回は、上記のOS因子の水準を

`Windows8, Windows10, Linux, macOS`

とします。  
つまり

・OS (Windows8, Windows10, Linux, macOS)  
・ブラウザ (Firefox, Chrome)  
・Java (バージョン8, バージョン11)  

です。

このままPICTで２因子網羅のテストケースを生成すると、Windows8 と Windows10 の両方を”満遍なく”含んだテストケースが生成されます。

![](https://gyazo.com/5157ed5f054666faec7b237b9ddd6db6.png)

上表で灰色に網掛けした部分のテストケースでは、Windows8とWindows10の両バージョンがそれぞれ”２因子網羅”の組み合わせとして現れています。  

今回はテストケース生成の条件として以下を加えることにします。  
「Windows8とWindows10はテスト環境として差がない(同値とみなす)」

上記の条件を加えた場合、重複している同値のテストケースは削減可能です。

同値のテストケースの削減方法は以下のような手順で実行されます。  
Windows8, Windows10を別名(”Windows”のような)で処理しておいて、組み合わせテストケース展開後にそれぞれの実名(Windows8, Windows10)の値を割り当てれば良いわけです。  
別名・実名の変換はPictMaster(PICT)が自動で行ってくれます。  

それではPictMasterを使ってテストケースを作ってみましょう。

## エイリアスの設定

PictMasterのパラメータ／値シートに以下のようにデータを設定します。

・OS (Windows8 | Windows10, Linux, macOS)  
・ブラウザ (Firefox, Chrome)  
・Java (バージョン8, バージョン11)  

![](https://gyazo.com/9f1ecef344494030389739a9a77f5331.png)

OSの値の部分は次のように記述します。  
`Windows8 | Windows10, Linux, macOS`

このように Windows8 と Windows10 の値を「｜」(パイプ)で連結することで、２つの値を１つとして認識させることができます。
PictMasterではこの機能を「エイリアス」と呼んでいます。

この設定でテストケースを生成すると以下の結果が出力されました。

![](https://gyazo.com/0239d2b649986bb01bc61e341c7ccbd4.png)

このようにWindows8とWindows10はそれぞれ１回しかテストケースに登場しませんが、このように”Windows8”と”Windows10”を同値として、それぞれを”Windows”と読み替えると、２因子網羅のテストケースが生成されていることがわかります。

## エイリアスの数よりも実際に当てはめる値の数が多い場合

テストケースを同値でまとめることができるエイリアス機能はとても便利ですが、一つ注意点があります。  
生成されるテストケースに含まれる別名(エイリアス)の数よりも、実際に当てはめる実名(割り当てる値)の数が多い場合には、実名(割り当てる値)のいくつかがテストケース上に現れません。  
そもそも同値と仮定しているので問題ないといえば問題ないのですが、このような現象が発生することを知っておかないと余計な混乱を招くでしょう。

例えば、OS因子に”Windows7”という水準を同値として追加してみます。  
因子・水準は以下のようになります。

・OS (Windows7 | Windows8 | Windows10, Linux, macOS)  
・ブラウザ (Firefox, Chrome)  
・Java (バージョン8, バージョン11)  

生成されるテストケースは以下のようになりました。

![](https://gyazo.com/99c3db2bc2b1f8d7f6dc8853eb6a0b53.png)

全体のテストケース数に変更はありませんが、テストケース上に”Windows10”という値が現れなくなりました。  
”Windows10”は同値とみなされたため削除されたのです。

## まとめ

「エイリアス」機能を使うことによって、同値を効率的にまとめた組み合わせテストケースを生成することが出来ました。  
しかし、同値が多すぎるとテストケース上に現れなくなる値も存在することを念頭に置いておかなければなりません。  
PICTには他にも色々なオプションが用意されていて、PictMasterから利用可能です。  
次回も別のオプションを紹介していきたいと思います。

[ソフトウェアテストに関する技法やテクニックをまとめています。](/testing/)

テストに活用していただければ幸いです。
