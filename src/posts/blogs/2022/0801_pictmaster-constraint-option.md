---
title: ペアワイズ法テストケース生成ツール「PictMaster」の制約表を使う
author: shuichi-takatsu
date: 2022-08-01
tags: [テスト]
---

[前回](/blogs/2022/07/23/pictmaster/)はペアワイズ法をGUIから使う便利ツール「PictMaster」の基本操作を紹介しました。  
今回は「PictMaster」の「制約表」について紹介します。

[[TOC]]

## テストケースに制約を付けたいとき

２因子網羅を効率よく生成するペアワイズ法ですが、テストケース生成時にテストケースに制約を設定したい場合が多々あります。  
例えば、ある因子の水準を特定の環境にだけ割り当てたい、または割り当てたくない場合などです。

以前使用したテストケースの例題で考えてみましょう。  
・OS (Windows, Linux, macOS)  
・ブラウザ (Firefox, Chrome)  
・Java (バージョン8, バージョン11)  

上記の例では全てのブラウザが全てのOSで使用可能ですが、Windowsでのみ動作するブラウザをテストケースに組み込みたい場合を想定しましょう。  

例としてインターネット・エクスプローラ(以降IEと称す)をブラウザ環境に追加します。  
・OS (Windows, Linux, macOS)  
・ブラウザ (Firefox, Chrome, IE) ※ただしIEはWindows限定  
・Java (バージョン8, バージョン11)  

何の制約も設定せずにPICTで２因子網羅のテストケースを作ると、本来は実施しない(実施できない)テストケースも一緒に生成されてしまいます。

一旦全ての組み合わせテストケースを生成しておいて、不要(実行不可能)なテストケースを後から手作業で除外することも可能ですが、人間の作業が介在するのでテストケースの抜け漏れが心配です。

上記の例のようにテストケース生成時に制約を設けたい場合には、PICTでは「制約」を使用します。  
PictMasterでは「制約表」に値を設定するだけで簡単に制約を利用することができます。

## 制約表

それでは制約を設定したテストケースを生成してみましょう。  
例題を以下のように設定します。  
ブラウザ環境に追加した「IE」はWindows限定とします。

・OS (Windows, Linux, macOS)  
・ブラウザ (Firefox, Chrome, IE) ※ただしIEはWindows限定  
・Java (バージョン8, バージョン11)  

パラメータ(因子)と値(水準)を以下のように設定します。

![](https://gyazo.com/8a964947637b1caf7d10409642c1fa4c.png)

「環境設定」ボタンを押して環境設定ダイアログを開き、制約を利用できるようにします。  
以下のように「制約表を使用」をチェックします。

![](https://gyazo.com/0a7d122d033caa13891de118d1d523cb.png)

すると、Excelシートの下側に「制約表」が表示されます。  
制約表のパラメータ列にはシートに設定したパラメータ値が予め設定されています。

![](https://gyazo.com/919230d2003f2e4412606bd46faa119d.png)

「制約表」に以下のように制約を設定します。(「制約１」の部分)  

![](https://gyazo.com/1b88e1b4619b1b22c460b3d0747c83fc.png)

上表の意味は
- 「ブラウザ」が「IE」の時は
- 「OS」は「Windows」限定

`if 'ブラウザ' = 'IE' then 'OS' = 'Windows'`

と設定したことになります。  

どちらの項目がIF文側になるかは、セルを着色することで指定します。  
塗りつぶした方が「IF」側、  
塗りつぶしていない方が「THEN」側になります。  
(色に指定は無いようなので、区別しやすい色を選択しています)

セルを選択した状態でマウスを右クリックすると制約値として設定可能な値の候補が表示されますので、制約値を選択して設定します。(複数選択可)

![](https://gyazo.com/82aafcc88123108349a31ddfa952a107.png)

## テストケース生成

「実行」ボタンを押すと制約が設定されたテストケースが生成されます。

![](https://gyazo.com/480abec478d8008effdfac07cadef69d.png)

テストケース数は8通り。
IEはWindows限定になっていることがわかります。

ちなみに、制約を設定しないでテストケースを生成するとテストケースは以下のようになります。

![](https://gyazo.com/8504654ab968712dd3973032e840044b.png)

テストケース数は9通り。  
IEはLinux、macOSの条件にも含まれてしまっています。

## まとめ

「制約表」を使うことによって、テストケースに「含めたい」または「含めたくない」条件を設定したテストケースを生成することが出来ました。  
PICTには他にも色々なオプションが用意されていて、PictMasterから利用可能です。  
次回も別のオプションを紹介していきたいと思います。

[ソフトウェアテストに関する技法やテクニックをまとめています。](/testing/)

テストに活用していただければ幸いです。
