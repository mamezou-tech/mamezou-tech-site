<section class="post-list__wrapper">
  {%- if postsTitle %}
    <h2 class="post-list__heading">{{ postsTitle }}</h2>
  {%- endif -%}
  <ul class="post-list">
    {% for post in postslist %}
      <li class="post-list__item">
        <div>
          <div class="post-list__meta">
            <time datetime="{{ post.data.date | htmlDateString }}">
              {{ post.data.date | readableDate }}
            </time>
            {%- if (post.data.category) and (not post.data.hideCategory) -%}
            <span> | </span>
            <span class="Label">{{ post.data.category }}</span>
            {% endif %}
            <span> | </span>
            <span>{{ post.data | readingTime }} read</span>
          </div>

          <div class="post-list__tags">
            {% for tag in post.data.tags %}
              {%- if (search.tags() | validTags).indexOf(tag) != -1 -%}
                {% set tagUrl %}/tags/{{ tag }}/{% endset %}
                <a href="{{ tagUrl | url }}">#{{ tag }}</a>
              {%- endif -%}
            {% endfor %}
          </div>
        </div>

        <h3 class="post-list__title">
          <a  href="{{ post.data.url }}">{{ post.data.title }}</a>
        </h3>

        <p class="post-list__excerpt">{{ post.data.children | excerpt | safe  }}</p>

        <a class="post-list__read-more" href="{{ post.data.url }}">記事を読む</a>
      </li>
    {% endfor %}
  </ul>

</section>
